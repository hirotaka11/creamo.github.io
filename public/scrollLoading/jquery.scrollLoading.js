!function(e){e.fn.scrollLoading=function(t){var n={attr:"data-url",container:e(window),callback:e.noop},i=e.extend({},n,t||{});i.cache=[],e(this).each(function(){var t=this.nodeName.toLowerCase(),n=e(this).attr(i.attr),o={obj:e(this),tag:t,url:n};i.cache.push(o)});var o=function(t){e.isFunction(i.callback)&&i.callback.call(t.get(0))},a=function(){var t=i.container.height();contop=i.container.get(0)===window?e(window).scrollTop():i.container.offset().top,e.each(i.cache,function(e,n){var i,a,r=n.obj,s=n.tag,l=n.url;r&&(i=r.offset().top-contop,a=i+r.height(),(i>=0&&t>i||a>0&&t>=a)&&(l?"img"===s?o(r.attr("src",l)):r.load(l,{},function(){o(r)}):o(r),n.obj=null))})};a(),i.container.bind("scroll",a)}}(jQuery);