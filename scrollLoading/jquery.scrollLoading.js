!function(e){e.fn.scrollLoading=function(t){var n={attr:"data-url",container:e(window),callback:e.noop},i=e.extend({},n,t||{});i.cache=[],e(this).each(function(){var t=this.nodeName.toLowerCase(),n=e(this).attr(i.attr),a={obj:e(this),tag:t,url:n};i.cache.push(a)});var a=function(t){e.isFunction(i.callback)&&i.callback.call(t.get(0))},o=function(){var t=i.container.height();contop=i.container.get(0)===window?e(window).scrollTop():i.container.offset().top,e.each(i.cache,function(e,n){var i,o,r=n.obj,l=n.tag,s=n.url;r&&(i=r.offset().top-contop,o=i+r.height(),(i>=0&&t>i||o>0&&t>=o)&&(s?"img"===l?a(r.attr("src",s)):r.load(s,{},function(){a(r)}):a(r),n.obj=null))})};o(),i.container.bind("scroll",o)}}(jQuery);